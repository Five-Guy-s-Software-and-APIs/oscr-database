<!DOCTYPE html>
<html>
<body>

<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">

<!-- <script src="data.js"> </script> -->
<script src="https://code.jquery.com/jquery-3.4.1.js"></script>
<script src="response.js"></script>

<script type = "text/javascript">

 function dispResults(db)
 {

    var table = "<tr><th>Category</th><th>Name</th><th>Film</th><th>Year</th><th>Winner</th></tr>";
    for(var i=0; i<db.length; ++i)
     {
             table += "<tr>";
             table += "<td> " + String(db[i]["category"]) + " </td>";
             table += "<td> " + String(db[i]["name"]) + " </td>";
             table += "<td> " + String(db[i]["film"]) + " </td>";
             table += "<td> " + String(db[i]["year_ceremony"]) + " </td>";
             table += "<td> " + String(db[i]["winner"]) + " </td>";
             table += "</tr>";
     }

     document.getElementById('output_table').innerHTML  = table;

 }


</script>


<div id="demo">
<h1>Search</h1>
  <!-- <label for="fname">Year:</label><br>
  <input type="text" id="fyear" name="year"><br>
  <button onclick="searchYear(document.getElementById('fyear').value)">Search</button>
</div>
<div>
    <input type="submit" value="Send" accesskey="\n">
</div> -->

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<script>
$(document).ready(function(){
  $("#sub_button").click(function(){
    $.get("/search",
      {
      year_film : document.getElementById("fyear").value,
      name : document.getElementById("name").value,
      category : document.getElementById("category").value},

      function(data, status){
      dispResults(data);
    });
  });
});
</script>
    <div>
        <label for="fyear">Year of film</label>
        <input type="text" name="year_film" id="fyear">
    </div>
    <div>
        <label for="name">Name of nominee/winner</label>
        <input type="text" name="name" id="name">
    </div>
    <div>
        <label for="category">Category</label>
        <input type="text" name="category" id="category">
    </div>
    <div>
        <label for="winner">Show only winners</label>
        <input type="checkbox" name="winner" id="winner">
    </div>
    <div>
        <button id="sub_button">Search</button>
    </div>

    <div>
    <table style="word-break:break-all;"; id="output_table">


   </table>
</div>

<div>
    <table style="word-break:break-all;"; id="output_table">


   </table>
</div>


</body>
</html>
